"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const board_1 = require("./board");
const v = -1;
class Tile {
    // of the same number, since it is not allowed to place a tile on one instance.
    // since there is only one tile per turn, this serves as identity
    getOnes(d) {
        return this.getNumberLocations(1, d);
    }
    getAdjacencies(d) {
        return this.getNumberLocations(v, d);
    }
    getNumberLocations(num, d) {
        const ret = [];
        for (let y = 0; y < 6; y++) {
            for (let x = 0; x < 5; x++) {
                if (this.form[y][x] === num) {
                    switch (d) {
                        case board_1.Direction.Up:
                            ret.push({ y: y, x: x });
                            break;
                        case board_1.Direction.Right:
                            ret.push({ y: x, x: 4 - y });
                            break;
                        case board_1.Direction.Down:
                            ret.push({ x: 5 - x, y: 4 - y });
                            break;
                            break;
                        case board_1.Direction.Left:
                            ret.push({ y: 5 - x, x: y });
                            break;
                    }
                }
            }
        }
        return ret;
    }
}
exports.Tile = Tile;
exports.TILE_COLORS = [
    '#BABABA',
    '#9C7300',
    '#BD6B0D',
    '#F2DB27',
    '#559E1C',
    '#4AD1D4',
    '#336FF2',
    '#9C0FD4',
    '#E820E8',
    '#D42242',
];
function getTile(n) {
    if (n < 0 || n > 9)
        throw new Error('Value of a tile can only be from 0 to 9.');
    let t = new Tile;
    t.value = n;
    switch (n) {
        case 0: {
            t.form = [[0, v, v, v, 0],
                [v, 1, 1, 1, v],
                [v, 1, 0, 1, v],
                [v, 1, 0, 1, v],
                [v, 1, 1, 1, v],
                [0, v, v, v, 0]];
            break;
        }
        case 1: {
            t.form = [[0, v, v, 0, 0],
                [v, 1, 1, v, 0],
                [0, v, 1, v, 0],
                [0, v, 1, v, 0],
                [0, v, 1, v, 0],
                [0, 0, v, 0, 0]];
            break;
        }
        case 2: {
            t.form = [[0, 0, v, v, 0],
                [0, v, 1, 1, v],
                [0, v, 1, 1, v],
                [v, 1, 1, v, 0],
                [v, 1, 1, 1, v],
                [0, v, v, v, 0]];
            break;
        }
        case 3: {
            t.form = [[0, v, v, v, 0],
                [v, 1, 1, 1, v],
                [0, v, v, 1, v],
                [0, v, 1, 1, v],
                [v, 1, 1, 1, v],
                [0, v, v, v, 0]];
            break;
        }
        case 4: {
            t.form = [[0, 0, v, v, 0],
                [0, v, 1, 1, v],
                [0, v, 1, v, 0],
                [v, 1, 1, 1, v],
                [0, v, 1, 1, v],
                [0, 0, v, v, 0]];
            break;
        }
        case 5: {
            t.form = [[0, v, v, v, 0],
                [v, 1, 1, 1, v],
                [v, 1, 1, 1, v],
                [0, v, v, 1, v],
                [v, 1, 1, 1, v],
                [0, v, v, v, 0]];
            break;
        }
        case 6: {
            t.form = [[0, v, v, 0, 0],
                [v, 1, 1, v, 0],
                [v, 1, v, v, 0],
                [v, 1, 1, 1, v],
                [v, 1, 1, 1, v],
                [0, v, v, v, 0]];
            break;
        }
        case 7: {
            t.form = [[0, v, v, v, 0],
                [v, 1, 1, 1, v],
                [0, v, 1, v, 0],
                [v, 1, 1, v, 0],
                [v, 1, v, 0, 0],
                [0, v, 0, 0, 0]];
            break;
        }
        case 8: {
            t.form = [[0, 0, v, v, 0],
                [0, v, 1, 1, v],
                [0, v, 1, 1, v],
                [v, 1, 1, v, 0],
                [v, 1, 1, v, 0],
                [0, v, v, 0, 0]];
            break;
        }
        case 9: {
            t.form = [[0, v, v, v, 0],
                [v, 1, 1, 1, v],
                [v, 1, 1, 1, v],
                [v, 1, 1, v, 0],
                [v, 1, 1, v, 0],
                [0, v, v, 0, 0]];
            break;
        }
    }
    return t;
}
exports.getTile = getTile;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGlsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInRpbGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQSxtQ0FBb0M7QUFFcEMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFFYixNQUFhLElBQUk7SUFJWSwrRUFBK0U7SUFDL0UsaUVBQWlFO0lBRW5GLE9BQU8sQ0FBQyxDQUFXO1FBQ3RCLE9BQU8sSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztJQUN6QyxDQUFDO0lBRU0sY0FBYyxDQUFDLENBQVc7UUFDN0IsT0FBTyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3pDLENBQUM7SUFHTyxrQkFBa0IsQ0FBQyxHQUFXLEVBQUUsQ0FBVztRQUMvQyxNQUFNLEdBQUcsR0FBRyxFQUFFLENBQUM7UUFDZixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFDO1lBQ3ZCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUM7Z0JBQ3ZCLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLEVBQUM7b0JBQ3hCLFFBQVEsQ0FBQyxFQUFFO3dCQUNQLEtBQUssaUJBQVMsQ0FBQyxFQUFFOzRCQUNiLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDOzRCQUNwQixNQUFNO3dCQUNWLEtBQUssaUJBQVMsQ0FBQyxLQUFLOzRCQUNoQixHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxHQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7NEJBQ3RCLE1BQU07d0JBQ1YsS0FBSyxpQkFBUyxDQUFDLElBQUk7NEJBQ2YsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEdBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEdBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQzs0QkFDNUIsTUFBTTs0QkFDRixNQUFNO3dCQUNWLEtBQUssaUJBQVMsQ0FBQyxJQUFJOzRCQUNmLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxHQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQzs0QkFDdEIsTUFBTTtxQkFDYjtpQkFDSjthQUNKO1NBQ0o7UUFDRCxPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7Q0FDSjtBQXpDRCxvQkF5Q0M7QUFFWSxRQUFBLFdBQVcsR0FBRztJQUN2QixTQUFTO0lBQ1QsU0FBUztJQUNULFNBQVM7SUFDVCxTQUFTO0lBQ1QsU0FBUztJQUNULFNBQVM7SUFDVCxTQUFTO0lBQ1QsU0FBUztJQUNULFNBQVM7SUFDVCxTQUFTO0NBQ1osQ0FBQztBQUVGLFNBQWdCLE9BQU8sQ0FBQyxDQUFRO0lBRTVCLElBQUksQ0FBQyxHQUFDLENBQUMsSUFBSSxDQUFDLEdBQUMsQ0FBQztRQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsMENBQTBDLENBQUMsQ0FBQztJQUU1RSxJQUFJLENBQUMsR0FBRyxJQUFJLElBQUksQ0FBQztJQUNqQixDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQztJQUVaLFFBQU8sQ0FBQyxFQUFFO1FBQ04sS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNKLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7Z0JBQ1gsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO2dCQUNYLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQztnQkFDWCxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7Z0JBQ1gsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO2dCQUNYLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdkIsTUFBTTtTQUNUO1FBQ0QsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNKLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7Z0JBQ1gsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO2dCQUNYLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQztnQkFDWCxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7Z0JBQ1gsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO2dCQUNYLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdkIsTUFBTTtTQUNUO1FBQ0QsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNKLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7Z0JBQ1gsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO2dCQUNYLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQztnQkFDWCxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7Z0JBQ1gsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO2dCQUNYLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdkIsTUFBTTtTQUNUO1FBQ0QsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNKLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7Z0JBQ1gsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO2dCQUNYLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQztnQkFDWCxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7Z0JBQ1gsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO2dCQUNYLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdkIsTUFBTTtTQUNUO1FBQ0QsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNKLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7Z0JBQ1gsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO2dCQUNYLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQztnQkFDWCxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7Z0JBQ1gsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO2dCQUNYLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdkIsTUFBTTtTQUNUO1FBQ0QsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNKLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7Z0JBQ1gsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO2dCQUNYLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQztnQkFDWCxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7Z0JBQ1gsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO2dCQUNYLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdkIsTUFBTTtTQUNUO1FBQ0QsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNKLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7Z0JBQ1gsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO2dCQUNYLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQztnQkFDWCxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7Z0JBQ1gsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO2dCQUNYLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdkIsTUFBTTtTQUNUO1FBQ0QsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNKLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7Z0JBQ1gsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO2dCQUNYLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQztnQkFDWCxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7Z0JBQ1gsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO2dCQUNYLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdkIsTUFBTTtTQUNUO1FBQ0QsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNKLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7Z0JBQ1gsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO2dCQUNYLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQztnQkFDWCxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7Z0JBQ1gsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO2dCQUNYLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdkIsTUFBTTtTQUNUO1FBQ0QsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNKLENBQUMsQ0FBQyxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7Z0JBQ1gsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO2dCQUNYLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQztnQkFDWCxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUM7Z0JBQ1gsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDO2dCQUNYLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdkIsTUFBTTtTQUNUO0tBQ0o7SUFFRCxPQUFPLENBQUMsQ0FBQztBQUNiLENBQUM7QUFyR0QsMEJBcUdDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdG9BU0NJSSB9IGZyb20gXCJwdW55Y29kZVwiO1xuaW1wb3J0IHsgRGlyZWN0aW9uIH0gZnJvbSBcIi4vYm9hcmRcIjtcblxuY29uc3QgdiA9IC0xO1xuXG5leHBvcnQgY2xhc3MgVGlsZSB7XG4gICAgcHVibGljIHZhbHVlOiBudW1iZXI7XG4gICAgcHVibGljIGZvcm06IG51bWJlcltdW107XG4gICAgcHVibGljIHR1cm46IG51bWJlcjsgICAgIC8vIHR1cm4gcmVwcmVzZW50cyBhdCB3aGljaCB0dXJuIHRoaXMgdGlsZSBpcyB1c2VkLiBUaGlzIGlzIGltcG9ydGFudCB0byBiZSBhYmxlIHRvIGRpc3Rpbmd1aXNoIGJldHdlZW4gZGlmZmVyZW50IGluc3RhbmNlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvZiB0aGUgc2FtZSBudW1iZXIsIHNpbmNlIGl0IGlzIG5vdCBhbGxvd2VkIHRvIHBsYWNlIGEgdGlsZSBvbiBvbmUgaW5zdGFuY2UuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNpbmNlIHRoZXJlIGlzIG9ubHkgb25lIHRpbGUgcGVyIHR1cm4sIHRoaXMgc2VydmVzIGFzIGlkZW50aXR5XG5cbiAgICBwdWJsaWMgZ2V0T25lcyhkOkRpcmVjdGlvbil7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE51bWJlckxvY2F0aW9ucygxLCBkKTtcbiAgICB9XG4gICAgXG4gICAgcHVibGljIGdldEFkamFjZW5jaWVzKGQ6RGlyZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE51bWJlckxvY2F0aW9ucyh2LCBkKTtcbiAgICB9XG5cblxuICAgIHByaXZhdGUgZ2V0TnVtYmVyTG9jYXRpb25zKG51bTogbnVtYmVyLCBkOkRpcmVjdGlvbil7XG4gICAgICAgIGNvbnN0IHJldCA9IFtdO1xuICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8IDY7IHkrKyl7XG4gICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IDU7IHgrKyl7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZm9ybVt5XVt4XSA9PT0gbnVtKXtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIERpcmVjdGlvbi5VcDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXQucHVzaCh7eTp5LHg6eH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBEaXJlY3Rpb24uUmlnaHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0LnB1c2goe3k6eCx4OjQteX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBEaXJlY3Rpb24uRG93bjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXQucHVzaCh7eDo1LXgseTo0LXl9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBEaXJlY3Rpb24uTGVmdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXQucHVzaCh7eTo1LXgseDp5fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBUSUxFX0NPTE9SUyA9IFtcbiAgICAnI0JBQkFCQScsIC8vIDBcbiAgICAnIzlDNzMwMCcsIC8vIDFcbiAgICAnI0JENkIwRCcsIC8vIDJcbiAgICAnI0YyREIyNycsIC8vIDNcbiAgICAnIzU1OUUxQycsIC8vIDRcbiAgICAnIzRBRDFENCcsIC8vIDVcbiAgICAnIzMzNkZGMicsIC8vIDZcbiAgICAnIzlDMEZENCcsIC8vIDdcbiAgICAnI0U4MjBFOCcsIC8vIDhcbiAgICAnI0Q0MjI0MicsIC8vIDlcbl07XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUaWxlKG46bnVtYmVyKTogVGlsZVxue1xuICAgIGlmIChuPDAgfHwgbj45KSB0aHJvdyBuZXcgRXJyb3IoJ1ZhbHVlIG9mIGEgdGlsZSBjYW4gb25seSBiZSBmcm9tIDAgdG8gOS4nKTtcblxuICAgIGxldCB0ID0gbmV3IFRpbGU7XG4gICAgdC52YWx1ZSA9IG47XG5cbiAgICBzd2l0Y2gobikge1xuICAgICAgICBjYXNlIDA6IHtcbiAgICAgICAgICAgIHQuZm9ybSA9IFtbMCx2LHYsdiwwXSxcbiAgICAgICAgICAgICAgICAgICAgICBbdiwxLDEsMSx2XSxcbiAgICAgICAgICAgICAgICAgICAgICBbdiwxLDAsMSx2XSxcbiAgICAgICAgICAgICAgICAgICAgICBbdiwxLDAsMSx2XSxcbiAgICAgICAgICAgICAgICAgICAgICBbdiwxLDEsMSx2XSxcbiAgICAgICAgICAgICAgICAgICAgICBbMCx2LHYsdiwwXV07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDE6IHtcbiAgICAgICAgICAgIHQuZm9ybSA9IFtbMCx2LHYsMCwwXSxcbiAgICAgICAgICAgICAgICAgICAgICBbdiwxLDEsdiwwXSxcbiAgICAgICAgICAgICAgICAgICAgICBbMCx2LDEsdiwwXSxcbiAgICAgICAgICAgICAgICAgICAgICBbMCx2LDEsdiwwXSxcbiAgICAgICAgICAgICAgICAgICAgICBbMCx2LDEsdiwwXSxcbiAgICAgICAgICAgICAgICAgICAgICBbMCwwLHYsMCwwXV07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDI6IHtcbiAgICAgICAgICAgIHQuZm9ybSA9IFtbMCwwLHYsdiwwXSxcbiAgICAgICAgICAgICAgICAgICAgICBbMCx2LDEsMSx2XSxcbiAgICAgICAgICAgICAgICAgICAgICBbMCx2LDEsMSx2XSxcbiAgICAgICAgICAgICAgICAgICAgICBbdiwxLDEsdiwwXSxcbiAgICAgICAgICAgICAgICAgICAgICBbdiwxLDEsMSx2XSxcbiAgICAgICAgICAgICAgICAgICAgICBbMCx2LHYsdiwwXV07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDM6IHtcbiAgICAgICAgICAgIHQuZm9ybSA9IFtbMCx2LHYsdiwwXSxcbiAgICAgICAgICAgICAgICAgICAgICBbdiwxLDEsMSx2XSxcbiAgICAgICAgICAgICAgICAgICAgICBbMCx2LHYsMSx2XSxcbiAgICAgICAgICAgICAgICAgICAgICBbMCx2LDEsMSx2XSxcbiAgICAgICAgICAgICAgICAgICAgICBbdiwxLDEsMSx2XSxcbiAgICAgICAgICAgICAgICAgICAgICBbMCx2LHYsdiwwXV07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDQ6IHtcbiAgICAgICAgICAgIHQuZm9ybSA9IFtbMCwwLHYsdiwwXSxcbiAgICAgICAgICAgICAgICAgICAgICBbMCx2LDEsMSx2XSxcbiAgICAgICAgICAgICAgICAgICAgICBbMCx2LDEsdiwwXSxcbiAgICAgICAgICAgICAgICAgICAgICBbdiwxLDEsMSx2XSxcbiAgICAgICAgICAgICAgICAgICAgICBbMCx2LDEsMSx2XSxcbiAgICAgICAgICAgICAgICAgICAgICBbMCwwLHYsdiwwXV07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDU6IHtcbiAgICAgICAgICAgIHQuZm9ybSA9IFtbMCx2LHYsdiwwXSxcbiAgICAgICAgICAgICAgICAgICAgICBbdiwxLDEsMSx2XSxcbiAgICAgICAgICAgICAgICAgICAgICBbdiwxLDEsMSx2XSxcbiAgICAgICAgICAgICAgICAgICAgICBbMCx2LHYsMSx2XSxcbiAgICAgICAgICAgICAgICAgICAgICBbdiwxLDEsMSx2XSxcbiAgICAgICAgICAgICAgICAgICAgICBbMCx2LHYsdiwwXV07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDY6IHtcbiAgICAgICAgICAgIHQuZm9ybSA9IFtbMCx2LHYsMCwwXSxcbiAgICAgICAgICAgICAgICAgICAgICBbdiwxLDEsdiwwXSxcbiAgICAgICAgICAgICAgICAgICAgICBbdiwxLHYsdiwwXSxcbiAgICAgICAgICAgICAgICAgICAgICBbdiwxLDEsMSx2XSxcbiAgICAgICAgICAgICAgICAgICAgICBbdiwxLDEsMSx2XSxcbiAgICAgICAgICAgICAgICAgICAgICBbMCx2LHYsdiwwXV07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDc6IHtcbiAgICAgICAgICAgIHQuZm9ybSA9IFtbMCx2LHYsdiwwXSxcbiAgICAgICAgICAgICAgICAgICAgICBbdiwxLDEsMSx2XSxcbiAgICAgICAgICAgICAgICAgICAgICBbMCx2LDEsdiwwXSxcbiAgICAgICAgICAgICAgICAgICAgICBbdiwxLDEsdiwwXSxcbiAgICAgICAgICAgICAgICAgICAgICBbdiwxLHYsMCwwXSxcbiAgICAgICAgICAgICAgICAgICAgICBbMCx2LDAsMCwwXV07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDg6IHtcbiAgICAgICAgICAgIHQuZm9ybSA9IFtbMCwwLHYsdiwwXSxcbiAgICAgICAgICAgICAgICAgICAgICBbMCx2LDEsMSx2XSxcbiAgICAgICAgICAgICAgICAgICAgICBbMCx2LDEsMSx2XSxcbiAgICAgICAgICAgICAgICAgICAgICBbdiwxLDEsdiwwXSxcbiAgICAgICAgICAgICAgICAgICAgICBbdiwxLDEsdiwwXSxcbiAgICAgICAgICAgICAgICAgICAgICBbMCx2LHYsMCwwXV07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIDk6IHtcbiAgICAgICAgICAgIHQuZm9ybSA9IFtbMCx2LHYsdiwwXSxcbiAgICAgICAgICAgICAgICAgICAgICBbdiwxLDEsMSx2XSxcbiAgICAgICAgICAgICAgICAgICAgICBbdiwxLDEsMSx2XSxcbiAgICAgICAgICAgICAgICAgICAgICBbdiwxLDEsdiwwXSxcbiAgICAgICAgICAgICAgICAgICAgICBbdiwxLDEsdiwwXSxcbiAgICAgICAgICAgICAgICAgICAgICBbMCx2LHYsMCwwXV07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0O1xufSJdfQ==